<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="伊﨑 直志" />


<title>Week2 | Rによる自主勉強会</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/simplex.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="site_style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Naoshi <strong>ISAKI</strong></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="univ.html">Univ.</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="js_test.html">jsのテスト</a>
</li>
<li>
  <a href="html_gene.html">Rでhtml生成</a>
</li>
<li>
  <a href="id_class_check.html">タグチェック用</a>
</li>
<li>
  <a href="grid_test.html">gridレイアウト用</a>
</li>
<li>
  <a href="css_test.html">cssチェック用</a>
</li>
<li>
  <a href="rstudy.html">R勉強会</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Week2 | Rによる自主勉強会</h1>
<h4 class="author">伊﨑 直志</h4>
<h4 class="date">2023年10月13日</h4>

</div>


<div id="準備" class="section level1">
<h1>準備</h1>
<div id="loading-packages" class="section level2">
<h2>Loading Packages</h2>
<pre class="r"><code>library(tidyverse)
library(dplyr)
library(gridExtra)</code></pre>
<pre><code>## 
##  次のパッケージを付け加えます: &#39;gridExtra&#39;</code></pre>
<pre><code>##  以下のオブジェクトは &#39;package:dplyr&#39; からマスクされています: 
## 
##      combine</code></pre>
<pre class="r"><code>windowsFonts(family_sans = windowsFont(&quot;Noto Sans JP&quot;)) 
par(family = &quot;family_sans&quot;)
knitr::opts_chunk$set(echo = TRUE)</code></pre>
</div>
</div>
<div id="第1章-回帰分析の目的" class="section level1">
<h1>第1章　回帰分析の目的</h1>
<div id="相関と因果" class="section level2">
<h2>1.1. 相関と因果</h2>
<ul>
<li><p>相関関係 correlation：「Xが変化すればYも変化する」</p></li>
<li><p>因果関係 causality：「Xを変化させればYも変化する」</p></li>
<li><p>疑似相関 spurious correlation</p>
<p>「変数XとYに共通の第3の要因Zが存在することによってXとYに生じる見せかけの相関関係」</p>
<p>e.g. 個人所得の増加
→タバコへの支出増加、医療・健康への支出増加　＝タバコと健康の疑似相関</p></li>
</ul>
<blockquote>
<ul>
<li>時間的先行性:
原因となる現象が結果となる現象に時間的に先立って起きている。</li>
<li>共変関係（相関関係）:
原因となる現象が変動すると、結果となる現象も変動する。</li>
<li>他条件の同一性:
原因となる現象の双方に与える現象は存在しないか、その影響は統制されている。</li>
</ul>
</blockquote>
</div>
<div id="回帰と予測" class="section level2">
<h2>1.2. 回帰と予測</h2>
<ul>
<li><p>一次関数 <span class="math inline">\(y=a+bx\)</span> の形で表現
→最小二乗法（least squares estimation）（図1.1 →図1.6）</p>
<p>回帰直線、回帰式、回帰係数</p></li>
<li><p>回帰式の一方の変数に代入してもう一方の変数の値を計算、予測</p>
<p>ある変数Xの値をもとにして、他の変数Yの値を予測　＝回帰分析</p>
<p><code>X：説明変数</code>、<code>Y：被説明変数</code></p>
<p>⇒因果解釈ではなく、あくまで予測解釈！</p></li>
<li><p><strong>回帰分析 →Xが与えられた時のYの値の予測</strong></p></li>
</ul>
</div>
<div id="自然科学のデータと社会科学のデータ" class="section level2">
<h2>1.3. 自然科学のデータと社会科学のデータ</h2>
<p>実験の難しさ（費用等コスト、倫理）</p>
<p>⇔自然科学：変数選択の制約・影響少、実験室実験可（変数統制）　[従来的説明]</p>
<p>→現在、社会科学における実験多数：実験経済学等 or
自然実験…（後述）</p>
<hr />
</div>
</div>
<div id="第2章-統計の基礎知識" class="section level1">
<h1>第2章　統計の基礎知識</h1>
<div id="母集団と標本" class="section level2">
<h2>2.1. 母集団と標本</h2>
<ul>
<li><p>（有限集団全体）母集団－（抽出）標本</p></li>
<li><p>（確率分布）母集団－（観測値）標本　（←本書）</p></li>
</ul>
<p>正規分布 normal distribution</p>
<p>正規分布<span class="math inline">\(N(平均,
分散=標準偏差^2)\)</span></p>
<p>正規分布（乱数）: <code>rnorm(個数, 平均, 標準偏差)</code></p>
<pre class="r"><code>rnorm(100, 50, 10) </code></pre>
<pre><code>##   [1] 42.62869 45.82657 48.37162 84.76891 46.30664 65.75408 60.71977 49.01730
##   [9] 44.41640 49.87423 33.20015 57.38771 55.44266 53.81156 41.27052 54.53191
##  [17] 71.72676 41.52055 51.33277 56.40947 46.23017 53.88426 60.55683 49.22349
##  [25] 57.54691 26.51773 52.38802 52.42689 49.24393 58.13701 50.23028 69.26289
##  [33] 48.94158 41.47342 48.78426 43.21696 65.73774 42.76089 38.81635 54.58921
##  [41] 46.83851 38.70193 29.96053 56.55300 63.59936 31.26901 40.01519 59.49177
##  [49] 59.76532 56.32478 38.65588 60.00876 44.45705 46.55279 58.38367 58.76198
##  [57] 58.23639 72.00140 45.61083 31.03729 58.53828 49.41417 13.82020 31.65474
##  [65] 53.59730 43.98945 36.08023 50.68809 52.14462 51.96811 46.43903 37.47058
##  [73] 63.83325 44.45452 43.07276 48.78685 30.43463 40.48038 36.01007 43.42103
##  [81] 52.75233 52.67124 53.74957 65.36503 54.24426 45.57901 52.76452 63.05775
##  [89] 45.83975 40.89036 41.66380 62.35806 43.18249 46.75577 62.22182 65.90326
##  [97] 45.74388 60.63688 53.92666 58.33814</code></pre>
<pre class="r"><code>curve(dnorm(x, 50, 10), 0, 100)　#正規分布のグラフ描画</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<pre class="r"><code>pnorm(60, 50, 10) #大きさ１の標本の値が60より小さくなる確率</code></pre>
<pre><code>## [1] 0.8413447</code></pre>
<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th>命令</th>
<th>説明</th>
<th>（英略）</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>rnorm(n, a, b)</code></td>
<td>平均a, 標準偏差bの正規分布乱数をn個発生させる。</td>
<td>random+norm</td>
</tr>
<tr class="even">
<td><code>dnorm(x, a, b)</code></td>
<td>平均a, 標準偏差bの正規分布について,
密度関数の点xにおける値を計算する。</td>
<td>density+norm</td>
</tr>
<tr class="odd">
<td><code>pnorm(x, a, b)</code></td>
<td>平均a, 標準偏差bの正規分布について,
分布関数の点xにおける値を計算する。</td>
<td>probability+norm</td>
</tr>
</tbody>
</table>
<p>正規分布グラフ 描画関数</p>
<p><code>curve(dnorm(x, a, b), min, max)</code> #curve(関数の式,
横軸の最小値, 横軸の最大値)</p>
</div>
<div id="無作為抽出" class="section level2">
<h2>2.2. 無作為抽出</h2>
<p>母集団から標本を抽出（random sampling）</p>
<pre class="r"><code>rnorm(100, 50, 10)</code></pre>
<pre><code>##   [1] 47.54691 54.40177 47.87447 52.55988 60.18081 37.30719 58.24333 48.58804
##   [9] 34.99181 37.70265 57.25378 73.02469 34.48891 63.77824 47.65043 48.91234
##  [17] 28.54450 51.02623 38.54124 57.66017 51.09686 48.72889 50.06531 50.79189
##  [25] 51.83907 60.30203 47.91866 71.58959 46.84467 53.92857 59.36679 54.66044
##  [33] 70.25555 40.90175 37.01842 51.34854 43.37177 27.10392 54.87050 49.21437
##  [41] 37.86834 33.03600 50.19869 66.31782 60.05595 62.87768 60.03351 54.54099
##  [49] 57.26456 42.93326 50.57858 56.40349 53.83081 65.03271 42.69243 36.94393
##  [57] 48.00147 46.90155 54.81657 43.25954 62.96733 60.78011 42.75120 45.58509
##  [65] 61.90325 54.43722 47.34238 51.19431 52.81069 52.11532 53.56432 32.19863
##  [73] 55.23976 44.31704 42.36934 48.62357 55.68643 61.09746 39.88344 47.74671
##  [81] 52.60084 58.72964 32.24472 54.73765 58.55323 54.12719 61.78313 63.90972
##  [89] 44.40760 53.03851 38.98834 54.55038 42.49521 38.67808 48.71063 57.75597
##  [97] 50.88839 58.83840 69.23474 46.60938</code></pre>
<pre class="r"><code>Z &lt;- rnorm(100, 50, 10)
Z</code></pre>
<pre><code>##   [1] 52.10658 53.56634 55.62120 51.68817 53.82355 46.19096 45.14076 47.00448
##   [9] 44.68291 45.14525 51.25693 45.65671 66.20544 52.83058 54.60235 54.39369
##  [17] 54.37636 29.82801 48.67593 54.45071 37.34011 60.55032 52.13518 29.03011
##  [25] 53.28527 66.05598 59.01990 37.18287 45.41687 45.13070 49.57900 51.73252
##  [33] 39.79233 59.46613 38.98026 47.33045 57.92887 60.25868 56.90506 59.38899
##  [41] 41.16539 62.00635 57.93097 58.15790 54.51763 52.55368 60.70732 38.62197
##  [49] 55.40861 49.09088 60.99007 26.46165 62.83392 36.14292 52.79902 48.61555
##  [57] 39.64449 48.68521 64.87916 70.81631 42.95532 60.39603 40.61127 60.08306
##  [65] 45.67506 67.82769 50.36613 45.62913 62.12487 39.80800 47.86210 57.59341
##  [73] 44.03459 55.54311 61.96721 48.71087 45.10185 43.04247 36.94729 42.75608
##  [81] 89.89347 44.76468 46.70940 51.98715 43.91607 67.85818 43.10600 49.02143
##  [89] 64.96285 54.85591 52.85475 50.94946 45.43445 51.50977 56.78342 26.02405
##  [97] 53.39329 42.87951 47.60276 62.03441</code></pre>
<pre class="r"><code>hist(Z) #ヒストグラム</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<pre class="r"><code>Z[1:10] #最初の10個のデータを抜き出し</code></pre>
<pre><code>##  [1] 52.10658 53.56634 55.62120 51.68817 53.82355 46.19096 45.14076 47.00448
##  [9] 44.68291 45.14525</code></pre>
<pre class="r"><code>a &lt;- c(5, 10, 100)
Z[a] #5番目,10番目,100番目の位置にある数字を抜き出し</code></pre>
<pre><code>## [1] 53.82355 45.14525 62.03441</code></pre>
<pre class="r"><code>Z[c(5, 10, 100)] #aを使わずに同上の操作</code></pre>
<pre><code>## [1] 53.82355 45.14525 62.03441</code></pre>
<pre class="r"><code>#特定の意味を持つ数値を抽出
max(Z) #最大値</code></pre>
<pre><code>## [1] 89.89347</code></pre>
<pre class="r"><code>which.max(Z) #最大値の位置</code></pre>
<pre><code>## [1] 81</code></pre>
<pre class="r"><code>min(Z) #最小値</code></pre>
<pre><code>## [1] 26.02405</code></pre>
<pre class="r"><code>which.min(Z) #最小値の位置</code></pre>
<pre><code>## [1] 96</code></pre>
<pre class="r"><code>mean(Z) #平均値</code></pre>
<pre><code>## [1] 51.01362</code></pre>
<pre class="r"><code>summary(Z) #基本統計量を一括表示</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   26.02   45.12   51.60   51.01   57.68   89.89</code></pre>
<pre class="r"><code>1:10</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<pre class="r"><code>sample(1:10, 3) #無作為抽出、sample(範囲, 抽出個数)</code></pre>
<pre><code>## [1]  1  3 10</code></pre>
<pre class="r"><code>sample(Z, 5) #sample(標本, 抽出個数)</code></pre>
<pre><code>## [1] 42.87951 36.14292 60.70732 46.70940 47.33045</code></pre>
<pre class="r"><code>sample(Z, 5) #sample(標本, 抽出個数)</code></pre>
<pre><code>## [1] 45.65671 26.46165 53.82355 60.25868 48.67593</code></pre>
<pre class="r"><code>fruits &lt;- c(&quot;ミカン&quot;, &quot;バナナ&quot;, &quot;リンゴ&quot;, &quot;レモン&quot;, &quot;モモ&quot;)
fruits</code></pre>
<pre><code>## [1] &quot;ミカン&quot; &quot;バナナ&quot; &quot;リンゴ&quot; &quot;レモン&quot; &quot;モモ&quot;</code></pre>
<pre class="r"><code>sample(fruits, 1) #fruitsから1個抽出</code></pre>
<pre><code>## [1] &quot;レモン&quot;</code></pre>
<pre class="r"><code>sample(fruits, 2) #fruitsから2個抽出</code></pre>
<pre><code>## [1] &quot;レモン&quot; &quot;モモ&quot;</code></pre>
<pre class="r"><code>sample(fruits, 1) #fruitsから1個抽出</code></pre>
<pre><code>## [1] &quot;リンゴ&quot;</code></pre>
<pre class="r"><code>sample(fruits, 1) #fruitsから1個抽出</code></pre>
<pre><code>## [1] &quot;リンゴ&quot;</code></pre>
<p>コイン投げ<a href="#fn1" class="footnote-ref"
id="fnref1"><sup>1</sup></a></p>
<pre class="r"><code>coin &lt;- c(&quot;Head&quot;, &quot;Tail&quot;) 
#sample(coin, 5) #うまくいかない　∵非復元抽出になっている
sample(coin, 5, replace = TRUE) #復元抽出, replace=TRUE</code></pre>
<pre><code>## [1] &quot;Head&quot; &quot;Tail&quot; &quot;Tail&quot; &quot;Tail&quot; &quot;Tail&quot;</code></pre>
</div>
<div id="平均と大数の法則" class="section level2">
<h2>2.3. 平均と大数の法則</h2>
<ul>
<li>①ベクトルrecのi番目の場所rec[i]に</li>
<li>②母集団N(50,10^2)から抜き出した大きさ100の標本の平均を格納する</li>
</ul>
<blockquote>
<p>Rにおけるfor ループ（繰返処理）<br />
<code>for (アイテム in シーケンス) {アイテムを用いたオペレーションの指示}</code><br />
<a href="https://epirhandbook.com/jp/iteration.html">出典: 16
ループと反復処理・リストの操作 | 疫学のための R ハンドブック</a></p>
</blockquote>
<pre class="r"><code>mean(Z) #標本平均</code></pre>
<pre><code>## [1] 51.01362</code></pre>
<pre class="r"><code>mean(rnorm(100, 50, 10))</code></pre>
<pre><code>## [1] 48.55548</code></pre>
<pre class="r"><code>mean(rnorm(100, 50, 10)) #Z &lt;- rnorm(100, 50, 10)</code></pre>
<pre><code>## [1] 49.32999</code></pre>
<pre class="r"><code>#より多い試行、抽出1000回、標本の大きさ100
S &lt;- 1000
rec1 &lt;- numeric(S)
for(i in 1:S){
  rec1[i]&lt;-mean(rnorm(100, 50, 10))
}
rec1</code></pre>
<pre><code>##    [1] 50.04000 51.12672 47.51733 52.10082 49.89628 50.29889 49.91738 48.34069
##    [9] 49.56604 51.02973 49.28676 49.23567 48.25168 49.70827 50.36591 51.39563
##   [17] 50.42164 51.07450 49.02605 49.28156 50.47470 50.56697 48.75004 50.98232
##   [25] 48.17323 50.02642 49.35825 50.36349 50.21185 46.90323 51.66810 49.59073
##   [33] 51.61554 49.50265 50.72402 49.63888 50.13280 50.56213 49.40547 51.14104
##   [41] 51.65815 49.40029 49.09168 51.31175 50.40141 49.93196 48.19472 50.47257
##   [49] 50.70806 51.46758 50.47817 50.04562 47.11615 49.39044 48.90510 49.90691
##   [57] 50.23420 49.81288 49.59248 49.48281 49.01950 49.98692 48.05169 50.95191
##   [65] 48.75385 48.92074 49.45321 49.82885 48.68244 51.69999 50.77386 50.23593
##   [73] 48.37435 48.74894 50.54892 50.00373 51.68214 48.61771 50.81822 50.29063
##   [81] 48.63304 51.39083 48.91543 50.27640 49.26508 49.25765 49.21305 48.92850
##   [89] 48.96648 48.83222 49.20068 48.74442 49.43288 49.56091 50.74381 49.84468
##   [97] 50.41530 50.19587 49.08610 50.03096 50.23576 49.64787 49.83986 50.18194
##  [105] 49.44734 48.83961 49.87286 51.03107 50.26973 49.76801 48.26422 48.72303
##  [113] 49.87742 49.20933 49.45743 50.61470 49.59132 50.08307 49.05575 50.33794
##  [121] 50.82814 48.69832 50.80753 48.48721 49.88995 49.38841 48.82133 48.24943
##  [129] 50.01666 48.38581 49.64046 50.50904 49.60797 49.07444 50.54825 47.80801
##  [137] 49.97735 49.05749 48.82510 48.66535 50.61275 49.90471 52.44099 51.84664
##  [145] 50.63210 50.07284 50.73780 48.07921 50.41370 51.33206 50.93969 49.87404
##  [153] 50.77470 49.35935 49.72261 50.08437 50.08621 49.56174 49.73010 50.63894
##  [161] 50.45825 49.37919 50.00788 49.74535 50.73938 50.97679 48.94575 49.70186
##  [169] 52.10889 49.49941 47.35670 48.18265 50.20167 51.29307 50.96360 49.76678
##  [177] 49.48004 51.80167 50.76791 49.86904 49.78442 50.76340 48.94264 50.45715
##  [185] 50.95020 48.61890 49.62781 49.09351 48.62582 49.21175 49.64501 49.63134
##  [193] 50.98494 50.29350 50.65485 49.81583 51.08018 50.22237 49.26313 51.07074
##  [201] 49.99377 49.12962 50.55325 48.64821 49.19283 50.42547 50.74372 49.22348
##  [209] 52.95986 49.85436 50.03416 50.43780 51.35824 49.21946 50.69832 50.53733
##  [217] 50.36833 47.75740 50.90119 48.94423 50.46202 50.84534 50.30107 50.98899
##  [225] 50.34948 51.59121 50.12577 47.87838 49.91880 49.84802 48.31048 52.11811
##  [233] 49.39331 49.71875 51.94758 51.88959 50.79989 47.86613 50.59128 50.75022
##  [241] 48.69433 47.83832 50.33031 50.95292 50.24876 49.64633 50.56561 50.62934
##  [249] 51.19061 50.79478 51.44126 49.06815 50.37429 52.05883 51.01851 49.40586
##  [257] 49.26651 50.46517 49.81972 51.69793 49.95564 50.20243 51.75177 50.70346
##  [265] 49.38503 49.92103 48.28639 51.71045 50.57599 47.30328 50.27308 51.46836
##  [273] 46.97195 51.75591 50.47712 51.53577 48.96315 49.88616 49.28607 49.97797
##  [281] 51.20538 48.78368 50.06628 50.25110 50.59513 51.18644 48.51858 51.93817
##  [289] 49.65497 49.76812 50.75245 50.21245 49.71011 49.03479 50.00338 49.87042
##  [297] 49.03999 51.14239 50.48004 50.36172 49.30878 50.14770 48.76839 49.58086
##  [305] 46.96134 49.73396 49.86190 51.90859 49.55915 49.35631 51.59548 49.88341
##  [313] 52.04867 49.82268 51.19167 50.19097 48.99078 49.47525 49.53202 50.48175
##  [321] 50.83389 48.66300 48.87707 50.29337 49.51502 48.95093 51.21790 50.60704
##  [329] 49.95599 50.05718 49.91751 48.99135 48.29393 48.54071 49.51286 50.25782
##  [337] 49.71875 49.83802 49.88406 51.57786 49.25085 48.78160 49.47598 49.92358
##  [345] 49.42111 49.18317 49.18225 49.71323 48.91387 50.96851 47.26963 49.02745
##  [353] 51.54362 49.06343 47.93889 50.33779 49.84895 52.65116 51.08968 50.48404
##  [361] 49.57651 50.18127 50.74866 50.65033 50.25280 48.76411 49.76538 50.90412
##  [369] 48.01513 50.73898 50.04864 49.68996 50.44336 49.41804 49.47989 49.75268
##  [377] 50.20783 49.53903 49.37577 50.22155 51.73865 49.60355 48.72719 50.86281
##  [385] 49.46147 51.81017 50.31708 50.36877 51.50104 50.18389 48.86707 50.42027
##  [393] 49.95456 49.12329 50.31494 51.18017 50.00071 49.18341 50.70073 49.18374
##  [401] 51.42869 50.67442 51.12369 49.44194 50.53275 50.79289 49.00426 48.81241
##  [409] 50.53312 48.75299 51.15967 51.46764 50.54991 49.59687 49.32836 51.27450
##  [417] 50.58426 51.37133 49.85898 51.08821 50.07310 50.51743 50.99411 49.06607
##  [425] 50.01819 49.14179 51.08923 50.91062 49.17281 50.56613 50.44542 48.74814
##  [433] 51.14039 50.62900 50.64865 50.15258 48.17728 50.74607 50.75811 50.07201
##  [441] 51.25159 48.76176 51.07892 49.49137 51.10252 50.57303 49.33389 48.07006
##  [449] 51.93463 49.30484 50.24358 49.69324 49.60791 48.30104 50.11242 50.50887
##  [457] 51.24782 50.21456 51.87040 52.16515 49.11954 49.43178 50.88962 49.78035
##  [465] 49.67891 49.49539 50.30104 50.12892 49.81416 51.13495 49.69112 50.49389
##  [473] 48.80644 51.71463 48.78027 50.52480 49.32631 49.89730 50.31676 50.47533
##  [481] 51.04255 49.15598 50.29571 50.22062 50.91077 50.19729 49.12197 51.75907
##  [489] 49.48944 50.29346 50.83943 51.11765 50.37202 49.62570 49.01811 49.57855
##  [497] 49.54047 51.00556 48.83315 50.19557 48.12944 49.98232 50.66333 50.33739
##  [505] 50.39103 50.43537 51.08996 51.06910 48.77864 48.88856 50.55363 51.18078
##  [513] 48.51782 49.98020 51.74943 50.08491 51.33468 51.03561 49.46683 49.86950
##  [521] 48.45596 48.90904 50.06717 49.49174 49.86044 52.43360 49.86559 49.72023
##  [529] 49.78359 48.72468 48.21547 50.47004 51.22149 51.40100 51.16033 50.18333
##  [537] 51.17562 51.07098 51.17427 49.91856 50.15284 51.07059 49.39484 48.81152
##  [545] 51.99066 49.75246 50.61307 50.69849 50.17425 50.79679 49.76403 48.74577
##  [553] 50.41637 50.45472 49.88179 49.18053 50.54026 52.22203 50.73699 50.52073
##  [561] 50.78933 51.08132 49.64467 50.55453 50.85281 50.71310 50.86242 51.24317
##  [569] 51.45372 51.29155 50.75603 49.03176 50.16123 49.09039 51.39090 50.84358
##  [577] 50.51769 50.25559 50.94294 49.04140 52.65933 49.81257 49.28200 50.01245
##  [585] 50.44845 48.86844 50.65893 50.37496 50.03719 48.57323 50.45544 49.69733
##  [593] 52.01999 50.45319 50.74625 51.52490 50.20232 48.36667 49.50290 49.22658
##  [601] 49.63159 49.89974 51.01602 48.42900 50.91846 50.18202 50.28668 50.93636
##  [609] 49.36827 49.97075 50.96925 49.49434 49.67017 50.53236 48.34973 49.33721
##  [617] 49.68788 48.16272 50.13129 50.51898 50.30191 49.42945 49.20795 49.64742
##  [625] 49.89079 50.48942 50.17779 50.02909 50.59594 49.38458 48.60839 49.79294
##  [633] 51.54077 49.25877 51.13116 48.45830 51.16436 50.60523 48.78261 50.81612
##  [641] 50.38399 50.13386 50.50307 51.01382 51.06748 49.88242 48.63492 48.80821
##  [649] 51.26278 52.76265 51.17920 49.46879 50.60539 47.43603 50.91729 49.68473
##  [657] 49.35517 50.61620 49.75137 49.25258 48.50968 50.84769 51.02086 50.93458
##  [665] 50.07554 49.42934 49.39921 50.22864 48.61451 50.14864 49.80954 48.96695
##  [673] 51.62019 48.88273 50.79244 50.44546 49.28163 49.90249 51.32253 51.82033
##  [681] 50.89328 50.22662 50.39095 50.21080 49.59835 50.05105 50.07523 49.48235
##  [689] 49.47351 49.35953 50.49847 50.30406 50.08872 51.87957 48.18282 50.34784
##  [697] 49.66441 49.13994 49.22985 49.45389 53.65172 50.06639 49.16796 50.84846
##  [705] 49.41661 49.09011 50.80765 49.65086 48.16807 51.24944 49.32624 48.34299
##  [713] 50.41814 50.06898 47.71374 49.86992 49.17048 50.77354 49.31801 49.99688
##  [721] 50.47950 49.34271 49.42920 48.90537 50.86979 50.70290 50.38741 49.37905
##  [729] 48.58796 49.21766 50.53001 49.51619 50.69534 48.90136 48.77230 50.18280
##  [737] 50.83108 49.37571 48.84566 50.58562 50.00407 50.06544 49.20472 49.62349
##  [745] 50.65818 52.09298 50.21007 52.20557 47.95770 51.15677 49.13166 51.73796
##  [753] 49.06220 51.83098 50.73576 49.89894 48.74587 49.75438 50.13007 51.01980
##  [761] 49.83992 49.29881 49.90780 48.70231 49.30827 49.77813 49.03260 50.57137
##  [769] 50.00598 48.04291 49.58865 48.88763 49.06543 48.89536 50.07267 49.76132
##  [777] 48.97618 50.37502 50.31716 49.99264 51.27095 48.79974 50.10318 49.60384
##  [785] 51.47138 50.28130 49.98215 49.22274 49.56032 49.75661 49.94573 49.97850
##  [793] 50.51702 49.86321 50.44726 50.94679 49.76417 51.15702 49.54681 50.00654
##  [801] 50.48276 50.75943 49.68786 50.05053 50.72969 50.78924 50.35150 49.33304
##  [809] 49.18854 49.97301 48.75881 49.31928 52.43414 48.85978 49.35023 49.43382
##  [817] 49.75389 49.11670 51.78044 50.40036 51.06990 50.39000 50.31039 49.25294
##  [825] 49.07154 50.60037 48.80709 50.42131 51.50008 50.31530 49.34513 49.25649
##  [833] 50.20991 50.58976 49.14859 49.67377 48.30257 51.31483 49.31007 50.12858
##  [841] 50.58826 49.21683 50.11687 50.47274 49.27809 50.11929 50.64433 50.20921
##  [849] 50.77478 50.42942 50.69613 50.28995 49.90513 51.20788 46.67505 50.66201
##  [857] 50.32732 49.53360 51.43098 49.16071 50.03807 50.34470 49.42333 49.40632
##  [865] 50.03790 50.71616 49.97906 50.66533 51.08897 48.43817 50.38624 50.76257
##  [873] 49.42869 50.34964 49.14293 48.50644 50.03818 50.39062 49.63196 48.77165
##  [881] 48.95236 50.39648 51.14956 50.62282 49.21283 49.45665 50.90395 50.17576
##  [889] 49.43802 50.56649 50.14136 49.34095 49.44856 48.38682 49.50013 49.95640
##  [897] 47.54538 51.66309 50.23044 49.95072 50.78932 49.61828 51.08520 50.14494
##  [905] 50.07218 48.74744 51.31906 49.82237 50.55304 50.76412 50.81553 50.48546
##  [913] 50.58826 49.45032 50.49993 51.96319 49.87825 48.62326 50.91734 50.17140
##  [921] 49.40595 49.97622 48.50189 50.03935 51.15804 49.03218 48.76455 49.94925
##  [929] 51.12904 48.24600 48.16485 50.26289 50.55198 48.85817 48.38140 50.56317
##  [937] 51.17090 49.19500 48.84391 49.38617 50.42587 51.50108 50.09272 51.00266
##  [945] 50.71659 50.05902 50.26542 48.69027 51.61744 50.83863 48.95014 50.80612
##  [953] 50.81841 49.94234 49.37722 50.45965 49.68555 51.15717 49.07243 51.62177
##  [961] 50.15779 50.58906 50.81921 49.17184 48.28886 52.42043 49.40765 49.72132
##  [969] 51.72301 50.67189 49.01582 50.26144 50.69381 48.59311 49.98437 49.05511
##  [977] 49.09089 51.81219 50.25965 49.73341 49.14236 51.05957 49.41094 50.54954
##  [985] 50.32341 50.34514 49.66183 51.34456 51.34026 49.09865 51.12355 50.80387
##  [993] 50.00000 50.08158 49.97399 50.44006 50.71447 49.13624 50.65270 49.42490</code></pre>
<pre class="r"><code>hist(rec1, main = &quot;n = 100&quot;) #main = &quot;n = 100&quot;, ラベル</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre class="r"><code>summary(rec1)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   46.68   49.35   50.04   50.02   50.67   53.65</code></pre>
<pre class="r"><code>rec2 &lt;- numeric(S)
for(i in 1:S){
  rec2[i] &lt;- mean(rnorm(10000, 50, 10))
}
rec2</code></pre>
<pre><code>##    [1] 49.92954 50.14352 50.04900 50.12919 50.11923 49.91099 49.94963 49.99672
##    [9] 49.72646 49.97097 50.16249 50.11879 49.98274 49.86568 50.04807 49.88238
##   [17] 50.09031 50.04093 50.16561 50.13102 49.88434 50.12415 50.03510 50.05557
##   [25] 50.08016 50.10532 49.91620 50.14259 49.90281 50.20708 49.86537 49.96319
##   [33] 50.02083 50.10766 49.99569 50.12272 49.97372 50.05309 49.93102 49.97066
##   [41] 50.09890 49.95300 49.94081 49.88650 49.87939 49.88580 49.98243 49.95779
##   [49] 50.10248 50.09304 50.04839 50.03750 49.90661 49.78250 50.08872 49.89040
##   [57] 49.90081 50.04374 50.00217 50.00902 49.89027 50.22705 50.04102 49.90665
##   [65] 49.96892 49.92028 50.02125 49.97130 49.91394 50.01720 50.28292 49.89681
##   [73] 50.03495 50.13264 49.96310 50.17614 50.04637 50.15503 50.08822 50.01931
##   [81] 50.03091 50.06250 49.93746 49.94846 49.97335 49.89698 49.94861 50.35023
##   [89] 50.06061 50.04117 49.91284 50.04839 50.00887 49.96442 50.11193 49.92676
##   [97] 49.96071 49.87987 49.91240 49.97382 50.10167 50.01441 50.17830 49.99459
##  [105] 49.95905 50.03754 50.10486 50.11862 50.04638 49.98807 50.19286 49.76423
##  [113] 49.96389 49.84314 49.94903 49.87665 49.97650 49.98432 50.01838 49.83371
##  [121] 49.92267 50.07021 50.03279 50.03818 50.07367 49.92344 49.87616 50.11327
##  [129] 50.14968 50.02478 49.99680 50.01032 49.98311 50.00672 50.00631 50.02349
##  [137] 50.00524 50.06686 50.07727 50.05257 49.90820 50.04828 50.10575 49.99189
##  [145] 49.92226 50.07495 50.14621 49.88489 50.10074 49.77578 50.10627 50.05760
##  [153] 50.12764 49.99398 49.97974 49.95971 50.00756 49.91813 49.96562 49.97958
##  [161] 50.12937 49.97736 50.10477 50.04339 50.04788 49.99168 50.01423 50.11862
##  [169] 50.01808 49.96590 50.03506 49.98754 49.90461 50.05480 50.08699 49.97505
##  [177] 50.11025 49.91908 50.04029 50.09958 50.02964 50.03406 50.13803 50.05988
##  [185] 49.92297 49.91965 50.09548 49.88878 50.01519 49.92126 50.15533 50.01587
##  [193] 49.98608 50.01311 50.00213 49.87983 50.08120 50.02078 50.05119 50.05225
##  [201] 50.00676 50.17176 50.12633 49.98421 50.09710 50.16418 49.94142 50.05768
##  [209] 49.79449 49.89890 49.91602 50.00559 50.02413 49.87889 49.87077 50.01725
##  [217] 50.03543 49.92686 50.06339 50.09038 49.90690 50.20429 50.13165 49.74410
##  [225] 49.99381 50.04730 50.12345 49.85222 50.03371 50.08730 49.89894 49.85822
##  [233] 50.03484 49.99602 49.96615 49.77788 50.05427 49.91057 49.97236 49.99967
##  [241] 49.98111 50.25387 49.66767 50.05130 49.88100 50.06210 50.08695 50.03880
##  [249] 49.99156 49.88850 49.91506 50.11498 49.98965 50.00283 50.08088 49.97111
##  [257] 50.16005 49.98691 49.84151 49.94553 50.02825 50.23877 50.14816 50.02774
##  [265] 49.94328 49.82421 50.15653 50.07219 49.95548 50.11796 49.99212 49.99102
##  [273] 50.16165 50.08141 50.05976 49.96701 49.97534 49.89746 49.99597 49.78539
##  [281] 49.97614 50.05202 50.17064 50.14409 49.90073 50.02938 49.93196 49.95744
##  [289] 49.96541 50.07570 49.98386 49.86079 49.96256 49.95958 49.99365 49.99813
##  [297] 50.10301 49.94101 50.01135 50.19403 49.76631 50.01266 49.88600 50.14890
##  [305] 49.92721 49.95063 50.03219 49.94931 49.99924 50.09318 49.90413 49.93396
##  [313] 49.98158 50.04505 50.04207 50.04661 49.94573 49.89735 50.16393 49.90760
##  [321] 50.18658 50.05087 49.94099 50.18574 49.99212 49.91990 50.14791 50.21491
##  [329] 50.02886 49.99586 49.93789 50.20351 50.05273 49.94053 49.86806 50.00889
##  [337] 50.18538 50.14942 49.95186 49.95192 50.04564 49.98232 49.94938 50.03842
##  [345] 50.28222 49.85555 49.87906 50.11568 49.99480 49.92884 50.10562 50.18648
##  [353] 49.94786 49.99076 49.88396 50.01207 49.96427 49.85970 50.22223 49.94269
##  [361] 49.98207 50.12688 49.88124 49.96791 49.95389 50.01766 49.94855 49.84259
##  [369] 49.99893 50.10116 49.95096 50.03836 50.03951 49.95878 49.85429 50.06495
##  [377] 49.99340 49.88189 49.92603 50.00645 49.95430 49.88182 50.08175 50.01096
##  [385] 49.91107 49.90577 49.91845 49.92310 50.01681 50.23286 49.77729 49.92048
##  [393] 49.99008 50.05707 50.12199 49.92377 49.88351 49.96869 50.24585 49.86259
##  [401] 50.06305 50.07597 50.20145 49.92872 49.82742 50.06666 50.09165 49.91464
##  [409] 50.13608 50.11806 49.98700 50.11994 50.15496 50.08305 49.89748 49.94408
##  [417] 49.95525 50.00974 50.06428 49.98896 50.11059 49.99887 50.04713 49.95816
##  [425] 50.01396 50.05011 49.88607 50.00506 50.04671 49.81353 50.05862 49.81227
##  [433] 49.92498 49.97982 50.11119 50.01858 50.12380 49.89039 49.92671 50.08832
##  [441] 49.88703 50.05785 49.97035 50.08677 50.05438 49.98511 50.00937 50.02065
##  [449] 49.93593 50.19490 49.96019 50.02048 50.06184 49.74077 49.75039 49.92442
##  [457] 50.08005 49.75437 49.88369 49.92136 49.99569 49.87044 50.01576 49.97107
##  [465] 49.93660 50.08723 49.89781 50.11040 50.15400 49.86847 50.08727 50.10381
##  [473] 50.04231 49.89650 50.00978 50.11672 49.87416 49.94618 49.96271 50.08706
##  [481] 50.06629 50.12741 50.14679 50.05566 50.05849 49.95880 50.07012 50.14251
##  [489] 50.06287 49.89977 49.82938 50.24936 49.93426 50.03384 49.96389 49.80580
##  [497] 50.00905 50.02010 50.05279 49.98734 50.07795 50.04751 49.99219 49.88418
##  [505] 50.03963 49.98736 50.03453 49.81233 49.96222 50.10691 49.97925 49.88267
##  [513] 49.82731 50.06017 50.17333 50.00926 49.95106 50.08424 50.01277 50.01167
##  [521] 49.94797 50.01869 49.86962 50.12261 50.20623 49.96185 49.98232 50.24657
##  [529] 49.90886 49.88004 49.99263 49.89413 50.08682 49.78054 49.87275 49.81106
##  [537] 49.85160 49.85892 49.88830 50.03411 50.21176 49.95188 49.96352 50.09179
##  [545] 50.08256 50.06359 49.94470 50.01739 49.99859 50.10577 49.88448 49.70493
##  [553] 49.99555 49.98314 49.81128 50.09816 49.92317 50.10840 49.93530 50.23381
##  [561] 50.07248 49.85818 50.23631 50.15647 49.95642 49.90083 49.77066 49.95468
##  [569] 49.90110 49.93896 50.34519 50.06924 49.91273 50.08124 49.90004 49.90770
##  [577] 50.02798 49.98128 50.06510 49.95440 49.96908 50.08649 50.06893 49.97485
##  [585] 49.89931 50.10339 49.77035 49.90839 50.05806 50.17049 49.95699 50.09788
##  [593] 50.01792 49.97905 49.81276 49.90944 49.99775 49.77454 49.95156 49.96858
##  [601] 50.05251 49.99532 49.87565 50.09328 50.08037 49.87204 49.89521 49.95757
##  [609] 49.94053 49.89361 50.13769 50.02956 50.02570 50.12951 49.93261 49.96418
##  [617] 49.89533 50.06424 49.95566 50.02523 49.98920 50.01107 49.86686 50.01497
##  [625] 49.95387 50.07954 49.85533 50.02353 49.80883 49.83665 49.79467 49.94734
##  [633] 49.93535 50.07713 49.89487 49.95246 49.96824 50.06494 50.07195 49.88440
##  [641] 49.96455 50.29267 50.15609 50.17862 50.10726 49.97591 50.02665 50.17801
##  [649] 49.95446 49.93254 49.91836 49.92736 50.05534 49.77205 49.90226 49.98394
##  [657] 49.90691 49.95171 49.96098 49.98926 49.90596 49.93846 50.00431 49.99924
##  [665] 49.98761 50.00016 49.97794 50.15465 50.09861 50.00113 49.84480 49.77199
##  [673] 49.99163 50.04383 50.04166 49.89321 50.05266 49.99854 50.11220 50.01477
##  [681] 50.06306 50.02433 49.96844 49.77476 49.92211 49.91881 49.97262 50.00262
##  [689] 50.10522 49.95925 49.88423 50.10917 50.08073 49.92582 50.00136 50.06731
##  [697] 50.13831 50.04135 50.06656 50.05295 49.87019 49.96668 50.04181 50.09135
##  [705] 49.94178 49.94120 49.73454 49.81728 50.24161 50.00401 49.71381 50.15022
##  [713] 50.09140 50.09502 49.93900 50.00513 50.09946 49.89850 49.93194 49.94825
##  [721] 50.01113 50.10420 49.94534 49.99739 50.03891 50.11750 49.83654 50.01803
##  [729] 50.05522 49.96315 49.99900 49.83881 50.31414 50.00182 49.99940 49.99834
##  [737] 50.01707 49.98058 49.88617 50.12197 50.17134 50.00617 49.81537 49.89024
##  [745] 50.10934 49.79682 50.03196 50.13739 49.98559 49.96544 49.96696 49.90020
##  [753] 49.94991 49.95527 50.01294 50.04607 50.10542 50.02555 49.91511 49.97814
##  [761] 49.76687 50.04354 50.07807 49.87194 49.94250 49.99655 50.05462 49.92215
##  [769] 50.16825 49.97282 50.15806 49.92481 50.03806 50.06866 49.98703 50.11557
##  [777] 50.06184 49.93077 49.90355 49.93299 49.92389 49.95865 49.99415 49.82308
##  [785] 49.92643 49.97360 50.06785 50.12684 50.12626 49.93563 49.95814 49.85266
##  [793] 50.08576 50.07369 50.01775 50.05708 49.82665 49.98423 49.97129 50.11931
##  [801] 50.14629 50.03526 50.00360 49.91694 49.95726 50.01722 49.99107 50.02576
##  [809] 50.09200 49.90815 50.07454 49.99890 50.23076 50.02175 50.04622 49.86465
##  [817] 49.87167 50.08656 49.96379 49.99183 50.07403 50.14273 49.91487 50.03719
##  [825] 50.13731 49.97295 50.06493 50.06769 49.99030 49.94058 49.77716 49.86501
##  [833] 49.93051 50.10138 49.91455 49.90498 50.02535 50.05616 49.75762 50.07258
##  [841] 49.85205 50.01703 49.86274 49.93110 49.81839 50.10129 50.14319 49.95674
##  [849] 50.04207 50.11950 50.05779 50.03061 49.78164 50.13764 50.02398 49.92015
##  [857] 50.01744 50.00109 49.91548 49.94260 50.04457 49.85133 49.83058 49.97666
##  [865] 50.11222 50.06254 50.02392 50.10289 49.96541 50.01053 50.06010 50.20084
##  [873] 50.02182 49.93405 49.97563 50.20013 50.11765 50.09437 49.90397 49.83115
##  [881] 50.04011 49.94601 49.65393 49.99582 49.95528 49.98540 49.94766 49.92653
##  [889] 50.03572 49.99248 50.01377 50.15620 50.04513 50.01333 49.94637 49.96198
##  [897] 50.00435 50.11525 50.20229 50.09114 50.14876 50.10482 49.95891 49.92316
##  [905] 49.94202 50.00783 49.96491 50.08141 49.98347 49.92309 50.00014 49.97997
##  [913] 50.21272 50.00154 50.09197 50.02206 50.11233 50.26319 50.26335 49.95862
##  [921] 49.85074 49.91835 49.96516 49.93021 50.22992 49.90095 49.94384 50.12673
##  [929] 50.08412 49.83284 49.84738 49.97182 49.96727 49.99319 50.00423 50.02476
##  [937] 49.84951 49.90857 50.17397 49.78172 49.94837 50.01260 49.94414 50.12340
##  [945] 50.13501 50.05369 49.96345 49.83247 49.74119 49.84299 49.93664 49.80794
##  [953] 50.13897 49.91757 49.87799 50.16280 49.99348 50.04089 49.86052 50.02569
##  [961] 50.10310 49.92697 50.08082 50.05561 50.13615 50.10358 50.05232 50.02494
##  [969] 50.05838 50.01472 49.84597 50.11057 49.98528 50.01265 49.91452 49.91320
##  [977] 49.73491 50.02799 50.28861 50.03974 50.02864 50.09928 50.01127 49.93719
##  [985] 50.00281 50.01787 50.18694 50.08137 50.11078 49.96488 49.96534 50.08776
##  [993] 50.07430 49.92443 49.85143 50.11626 50.05336 49.89073 50.04280 49.90609</code></pre>
<pre class="r"><code>hist(rec2, main = &quot;n = 10000&quot;) #main = &quot;n = 100&quot;, ラベル</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-5-2.png" width="672" /></p>
<pre class="r"><code>summary(rec2)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   49.65   49.93   50.00   50.00   50.07   50.35</code></pre>
<blockquote>
<p>【大数の法則】<br />
母集団から無作為に抜き出された標本の平均値は、標本の大きさが大きいほど、母集団平均に近い値をとる。</p>
</blockquote>
<p>サイコロ：母集団平均3.5</p>
<p><span
class="math inline">\(1*1/6+2*1/6+3*1/6+4*1/6+5*1/6+6*1/6=3.5\)</span></p>
<p>⇒大数の法則をスクリプトで確認</p>
<pre class="r"><code>sample(1:6, 10, replace = TRUE) #サイコロを10回振る試行</code></pre>
<pre><code>##  [1] 6 6 2 5 1 2 1 4 5 5</code></pre>
<pre class="r"><code>mean(sample(1:6, 1000, replace = TRUE)) #サイコロを1000回振った結果の目の平均値, 3.5に近似</code></pre>
<pre><code>## [1] 3.567</code></pre>
<pre class="r"><code>#サイコロ10回の標本平均×1000
S &lt;- 1000
rec2 &lt;- numeric(S)
for(i in 1:S){
  rec2[i] &lt;- mean(sample(1:6, 10, replace = TRUE))} #サイコロ10回の標本平均×1000
summary(rec2)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    1.80    3.20    3.50    3.52    3.90    5.00</code></pre>
<pre class="r"><code>#サイコロ1000回の標本平均×1000
S &lt;- 1000
rec3 &lt;- numeric(S)
for(i in 1:S){
  rec3[i]&lt;-mean(sample(1:6, 1000, replace = TRUE))} #サイコロ1000回の標本平均×1000
summary(rec3)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   3.325   3.465   3.500   3.501   3.535   3.675</code></pre>
<pre class="r"><code>#サイコロ10000回の標本平均×1000
S &lt;- 1000
rec4 &lt;- numeric(S)
for(i in 1:S){
  rec4[i] &lt;- mean(sample(1:6, 10000, replace = TRUE))} #サイコロ1000回の標本平均×10000
summary(rec4)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   3.451   3.489   3.500   3.500   3.511   3.549</code></pre>
<p><a href="https://cognicull.com/ja/kdeqdxtn">参考: 大数の法則とは -
Cognicull</a></p>
</div>
<div id="分散と標準偏差" class="section level2">
<h2>2.4. 分散と標準偏差</h2>
<table>
<thead>
<tr class="header">
<th>命令</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>var()</code></td>
<td>分散</td>
</tr>
<tr class="even">
<td><code>sd()</code></td>
<td>標準偏差</td>
</tr>
</tbody>
</table>
<p>標本平均 →標本のちらばり</p>
<ul>
<li><p>分散 variance
標本が平均値を中心にどれだけ散らばっているかを表す指標</p></li>
<li><p>標準偏差 standard deviaton
分散の平方根、標本が平均値を中心にどれだけ散らばっているかを表す指標（同上）</p>
<p><a href="https://cognicull.com/ja/et7cim2q">参考: 標準偏差とは -
Cognicull</a></p></li>
</ul>
<blockquote>
<p>分散は、計算過程において２乗しているので観測データの単位と異なります。例えば観測データの単位がg（グラム）である場合、分散の単位はg2になります。そこで、分散の平方根である標準偏差を求めることによって、観測データとの単位を揃えることが出来ます。そうすることで、分散よりも扱いやすい値となります。<br />
<a
href="https://ai-trend.jp/basic-study/basic/standard-deviation/">出典:
標準偏差の意味と求め方 | AVILEN AI Trend</a></p>
</blockquote>
<pre class="r"><code>#母集団N(50, 10^2)から大きさ1000の標本を無作為に抽出
x &lt;- rnorm(1000, 50, 10)
var(x) #分散</code></pre>
<pre><code>## [1] 93.42545</code></pre>
<pre class="r"><code>sd(x) #標準偏差 #10に近似</code></pre>
<pre><code>## [1] 9.665684</code></pre>
<pre class="r"><code>#分散・標準偏差における大数の法則
#n = 1000
S &lt;- 1000; n &lt;- 1000
rec &lt;- numeric(S)
for(i in 1:S){
  rec[i]&lt;-sd(rnorm(n, 50, 10))}
summary(rec) #標準偏差10に近似</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   9.363   9.835   9.998   9.996  10.148  10.954</code></pre>
<pre class="r"><code>#より大きいサイズで確認
#n = 10000
S &lt;- 10000; n &lt;- 10000
rec &lt;- numeric(S)
for(i in 1:S){
  rec[i]&lt;-sd(rnorm(n, 50, 10))}
summary(rec) #より10に近似＝大数の法則</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   9.756   9.952  10.000  10.001  10.049  10.261</code></pre>
</div>
<div id="相関係数と共分散" class="section level2">
<h2>2.5. 相関係数と共分散</h2>
<table>
<thead>
<tr class="header">
<th>命令</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>plot()</code></td>
<td>散布図</td>
</tr>
<tr class="even">
<td><code>cor()</code></td>
<td>相関係数</td>
</tr>
<tr class="odd">
<td><code>cov()</code></td>
<td>共分散</td>
</tr>
</tbody>
</table>
<pre class="r"><code>x &lt;- rnorm(100, 50, 10)
y &lt;- rnorm(100, 50, 10)
plot(x, y, main = &quot;散布図(x, y)&quot;) #x,yの散布図</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<pre class="r"><code>#xと関係のあるzを追加
z &lt;- (x+y)/2
plot(x, z, main = &quot;散布図(x,z)&quot;) #x,zの散布図</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-8-2.png" width="672" /></p>
<ul>
<li><p>共分散: 2変数の関係の強さを表す指標の一つ。</p>
<p>〈手順〉</p>
<ol style="list-style-type: decimal">
<li>それぞれの変数の平均値を求める</li>
<li>それぞれの変数の偏差（数値 － 平均値）を求める</li>
<li>偏差の積の平均値（＝共分散）を計算する</li>
</ol>
<p>ただし、データの単位の影響を受けるので値の大きさで単純に比較できない（データスケールに応じて変化してしまい、共分散の数値だけを見て関係性を判断することは難しい）</p>
<p>⇒ 正規化・標準化の必要＝相関係数</p></li>
<li><p>相関係数: 2つの確率変数間の線形関係の強さをはかる指標、</p>
<p>-1以上+1以下の値を取り、1に近づくほど正の相関、-1に近づくほど負の相関</p></li>
</ul>
<pre class="r"><code>x &lt;- rnorm(100, 50, 10)
y &lt;- rnorm(100, 50, 10)
plot(x, y, main = &quot;散布図(x, y)&quot;) #x, yの散布図</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code>z &lt;- (x+y)/2 #xと関係のあるzを追加
plot(x, z, main = &quot;散布図(x,z)&quot;) #x, zの散布図</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-9-2.png" width="672" /></p>
<div id="相関係数" class="section level3">
<h3>相関係数</h3>
<pre class="r"><code>cor(x, y)</code></pre>
<pre><code>## [1] -0.0845481</code></pre>
<pre class="r"><code>cor(x, z)</code></pre>
<pre><code>## [1] 0.7273958</code></pre>
</div>
<div id="共分散" class="section level3">
<h3>共分散</h3>
<pre class="r"><code>cov(x, y)</code></pre>
<pre><code>## [1] -8.410323</code></pre>
<pre class="r"><code>cov(x, z)</code></pre>
<pre><code>## [1] 52.53268</code></pre>
</div>
<div id="おまけ" class="section level3">
<h3>おまけ</h3>
<pre class="r"><code>x &lt;- rnorm(100, 50, 10)
y &lt;- rnorm(100, 50, 10)
par(family=&quot;family_sans&quot;)
plot(x, y, main = &quot;散布図(x, y)&quot;) #x, yの散布図</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<pre class="r"><code>z &lt;- (x+y)/2 #xと関係のあるzを追加
plot(x, z, main = &quot;散布図(x, z)&quot;) #x,zの散布図</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-12-2.png" width="672" /></p>
<pre class="r"><code>library(ggplot2)
ggplot() +
  geom_point(aes(x, y))+
  labs(title=&quot;散布図(x, y)&quot;) +
  theme_grey(base_family = &quot;family_sans&quot;) +
  theme(plot.title = element_text(hjust = 0.5))</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-12-3.png" width="672" /></p>
<pre class="r"><code>ggplot() +
  geom_point(aes(x, z)) +
  labs(title=&quot;散布図(x, z)&quot;) +
  theme_grey(base_family = &quot;family_sans&quot;) +
  theme(plot.title = element_text(hjust = 0.5))</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-12-4.png" width="672" /></p>
<pre class="r"><code>ggplot() +
  geom_point(aes(x, y)) +
  labs(title=&quot;散布図(x, y)&quot;) +
  theme_bw(base_family = &quot;family_sans&quot;) +
  theme(plot.title = element_text(hjust = 0.5))</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-12-5.png" width="672" /></p>
<pre class="r"><code>ggplot() +
  geom_point(aes(x, z)) +
  labs(title = &quot;散布図(x, z)&quot;) +
  theme_bw(base_family = &quot;family_sans&quot;) +
  theme(plot.title = element_text(hjust = 0.5))</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-12-6.png" width="672" /></p>
</div>
</div>
<div id="練習問題" class="section level2">
<h2>練習問題</h2>
<div id="問題2.1." class="section level3">
<h3>問題2.1.</h3>
<pre class="r"><code>#2.1.1.
runif(100)</code></pre>
<pre><code>##   [1] 0.29422670 0.23059576 0.98366975 0.08236896 0.84666438 0.04409679
##   [7] 0.57787325 0.01080883 0.88808989 0.75037459 0.82043240 0.89970572
##  [13] 0.59524750 0.24062787 0.44201278 0.91544460 0.80458571 0.19841144
##  [19] 0.61911480 0.90119680 0.89198502 0.43925886 0.92576998 0.93276016
##  [25] 0.79046665 0.02625399 0.08963205 0.16025728 0.98069527 0.34339677
##  [31] 0.72770624 0.97646771 0.39934248 0.73907545 0.62299537 0.35804751
##  [37] 0.47606765 0.26064795 0.68450191 0.75211705 0.43722813 0.52298823
##  [43] 0.15032009 0.73280767 0.95156167 0.63050996 0.73507733 0.07919981
##  [49] 0.52679542 0.68480166 0.59776579 0.46287439 0.50344668 0.86167401
##  [55] 0.35039394 0.63570314 0.92251913 0.89461940 0.53916038 0.46858633
##  [61] 0.94126952 0.04224100 0.90283142 0.30691061 0.78853298 0.52716241
##  [67] 0.27492147 0.20708061 0.82816075 0.84325574 0.08790250 0.75693084
##  [73] 0.42736438 0.60821538 0.84018880 0.70497727 0.92490068 0.76290597
##  [79] 0.34563294 0.26799060 0.32281609 0.27822316 0.27703990 0.94105530
##  [85] 0.49232464 0.10102621 0.45912914 0.27359262 0.29727616 0.66984893
##  [91] 0.06037302 0.26243688 0.19734882 0.92450188 0.16797707 0.69240258
##  [97] 0.08270360 0.46953293 0.13755788 0.95917883</code></pre>
<pre class="r"><code>#2.1.2.
P &lt;- runif(100)
mean(P) #平均</code></pre>
<pre><code>## [1] 0.494454</code></pre>
<pre class="r"><code>var(P) #分散</code></pre>
<pre><code>## [1] 0.09636563</code></pre>
<pre class="r"><code>sd(P) #標準偏差</code></pre>
<pre><code>## [1] 0.3104281</code></pre>
<pre class="r"><code>#2.1.3.
S &lt;- 1000; n = 100
recP &lt;- numeric(S)
for(i in 1:S){
  recP[i] &lt;- mean(P)}
summary(recP)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.4945  0.4945  0.4945  0.4945  0.4945  0.4945</code></pre>
<pre class="r"><code>#Re
x &lt;- runif(100)
#2.1.2.
mean(x)</code></pre>
<pre><code>## [1] 0.5203714</code></pre>
<pre class="r"><code>var(x)</code></pre>
<pre><code>## [1] 0.07690746</code></pre>
<pre class="r"><code>sd(x)</code></pre>
<pre><code>## [1] 0.2773219</code></pre>
<pre class="r"><code>#2.1.3.
S &lt;- 1000; n &lt;- 1000
rec &lt;- numeric(S)
for(i in 1:S){
  rec[i] &lt;- mean(runif(n))}
summary(rec)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.4724  0.4939  0.5003  0.5000  0.5065  0.5325</code></pre>
</div>
<div id="問題2.2." class="section level3">
<h3>問題2.2.</h3>
<pre class="r"><code>x &lt;- runif(100)
y &lt;- rnorm(100, 0, 1)
z &lt;- 1.3*x-0.7*y

#2.2.1.
plot(x, y, main = &quot;散布図(x, y)&quot;)</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<pre class="r"><code>plot(x, z, main = &quot;散布図(x, z)&quot;)</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-14-2.png" width="672" /></p>
<pre class="r"><code>plot(y, z, main = &quot;散布図(y, z)&quot;)</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-14-3.png" width="672" /></p>
<pre class="r"><code>cor(x, y)</code></pre>
<pre><code>## [1] 0.08780227</code></pre>
<pre class="r"><code>cor(x, z)</code></pre>
<pre><code>## [1] 0.3965638</code></pre>
<pre class="r"><code>cor(y, z)</code></pre>
<pre><code>## [1] -0.8796426</code></pre>
<pre class="r"><code>#2.2.2.
x &lt;- runif(n)
y &lt;- rnorm(n, 0, 1)
z &lt;- 1.3*x-0.7*y
n = 10000
cor(x, y)</code></pre>
<pre><code>## [1] -0.07563104</code></pre>
<pre class="r"><code>cor(x, z)</code></pre>
<pre><code>## [1] 0.5210697</code></pre>
<pre class="r"><code>cor(y, z)</code></pre>
<pre><code>## [1] -0.8904786</code></pre>
<pre class="r"><code>par(mfrow = c(1,3))
plot(x, y, main = &quot;散布図(x, y)&quot;)
plot(x, z, main = &quot;散布図(x, z)&quot;)
plot(y, z, main = &quot;散布図(y, z)&quot;)</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-14-4.png" width="672" /></p>
<pre class="r"><code>w &lt;- cbind(x, y, z)
cor(w)</code></pre>
<pre><code>##             x           y          z
## x  1.00000000 -0.07563104  0.5210697
## y -0.07563104  1.00000000 -0.8904786
## z  0.52106971 -0.89047859  1.0000000</code></pre>
<pre class="r"><code>#おまけ
library(ggplot2)
x &lt;- runif(100)
y &lt;- rnorm(100, 0, 1)
z &lt;- 1.3*x-0.7*y

g1 &lt;- ggplot() +
  geom_point(aes(x, y)) +
  labs(title = &quot;散布図(x, y)&quot;) +
  theme_bw(base_family = &quot;family_sans&quot;) +
  theme(plot.title = element_text(hjust = 0.5))
g2 &lt;- ggplot() +
  geom_point(aes(x, z)) +
  labs(title = &quot;散布図(x, z)&quot;) +
  theme_bw(base_family = &quot;family_sans&quot;) +
  theme(plot.title = element_text(hjust = 0.5))
g3 &lt;- ggplot() +
  geom_point(aes(y, z)) +
  labs(title = &quot;散布図(y, z)&quot;) +
  theme_bw(base_family = &quot;family_sans&quot;) +
  theme(plot.title = element_text(hjust = 0.5))
grid.arrange(g1, g2, g3, ncol = 3)</code></pre>
<p><img src="rweek2_files/figure-html/unnamed-chunk-14-5.png" width="672" /></p>
</div>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr />
<ol>
<li
id="fn1"><p>筒井淳也『数字のセンスを磨く　データの読み方・活かし方』（2023年,
光文社）の第4章を参照のこと。<a href="#fnref1"
class="footnote-back">↩︎</a></p></li>
</ol>
</div>

<footer>
  <p>Copyright &copy; 2023- Naoshi ISAKI </p>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
